<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.study.springboot.dao.memberDAO">

	<insert id="insertMember" parameterType="memberDTO">
		insert into member
		(userid, id, pw, nickname, email, gender, age)
		values
		(seq_userid.nextval, #{id}, #{pw}, #{nickname}, #{email}, #{gender},
		#{age})
	</insert>

	<select id="idCheck" parameterType="memberDTO" resultType="int">
		select count(*)
		from member
		where id=#{id}
	</select>

	<select id="nicknameCheck" parameterType="memberDTO" resultType="int">
		select count(*)
		from member
		where nickname=#{nickname}
	</select>


	<select id="loginCheck" parameterType="memberDTO" resultType="int">
		select count(*)
		from member
		where id=#{id} and pw=#{pw}
	</select>

	<!-- 아이디와 비번으로 userid와 닉네임 검색 -->
	<select id="basicInfo" parameterType="memberDTO" resultType="memberDTO">
		select userid, nickname
		from member
		where id=#{id} and pw=#{pw}
	</select>
	
	<!-- userid로 프로필 사진, 이메일, 별명, 성별, 연령대 검색-->
	<select id="profile" parameterType="memberDTO" resultType="memberDTO">
		select image, email, nickname, age, gender
		from member
		where userid=#{userid}
	</select>
	
	<update id="updateMember">
	UPDATE member
	SET 
	<if test="todo != null and due_date != null">
	
	</if>
	WHERE userid=#{userid}
	</update>

	<delete id="deleteMember" parameterType="memberDTO">
	delete member
	where userid=#{userid}
	</delete>

</mapper>